<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="1187.4">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #0000ee}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica}
p.p6 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p7 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica}
p.p8 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p9 {margin: 0.0px 0.0px 0.0px 85.0px; text-indent: -85.0px; font: 12.0px Helvetica}
p.p10 {margin: 0.0px 0.0px 0.0px 85.0px; text-indent: -85.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Monaco; min-height: 16.0px}
p.p12 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica}
p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #cd1c00}
p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p15 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #0433ff}
span.s1 {font: 18.0px Helvetica}
span.s2 {color: #000000}
span.s3 {text-decoration: underline}
span.s4 {font: 9.0px Monaco}
span.s5 {color: #0326cb}
span.s6 {color: #008300}
span.s7 {color: #0433ff}
span.s8 {color: #434ccb}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><span class="s1"><b>Fb1_Hopf<span class="Apple-tab-span">	</span>A<span class="Apple-tab-span">	</span></b></span><b>Adaptive Hopf pseudo ugen</b></p>
<p class="p2"><br></p>
<p class="p3"><span class="s2"><b>Part of:</b> <a href="../miSCellaneous.html"><span class="s3">miSCellaneous</span></a></span></p>
<p class="p2"><br></p>
<p class="p1"><b>Inherits from: UGen</b></p>
<p class="p4"><br></p>
<p class="p1">This is an adaptive variant of Hopf, i.e. it can hold the frequency of an oscillating input f after it vanishes. The model refers to [1], see also [2] (4.1.) for an enhancement implemented with Fb1_HopfAFDC. The parameter naming follows the convention of [2].</p>
<p class="p2"><br></p>
<p class="p1">v'(t) = (mu - (v(t)^2 + w(t)^2)) * v(t) - (theta(t) * w(t)) + f(t)</p>
<p class="p1">w'(t) = (mu - (v(t)^2 + w(t)^2)) * w(t) + (theta(t) * v(t))<span class="Apple-converted-space"> </span></p>
<p class="p1">theta'(t) = -eta * f(t) * w(t) / sqrt(v(t)^2 + w(t)^2)</p>
<p class="p2"><br></p>
<p class="p1">It returns a 3-channel signal. See Fb1_ODE help for general information about Fb1 ODE integrator UGens.</p>
<p class="p2"><br></p>
<p class="p1"><b>HISTORY AND CREDITS:</b> Big credit to David Pirrò from IEM Graz for pointing me to the symplectic integration methods, which are essential for audifying ODEs, as they help to ensure numeric stability in the long run (e.g. to avoid drifts of oscillations that are mathematically expected to be regular). See the chapter on integration in his dissertation [4], pp 135-146. You might also want check David Pirròs optimized ODE compiler named Henri [5]. Big credit also to Nathaniel Virgo who brought up the buffering strategy used in Fb1, which is Fb1_ODE's working horse. <span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1"><b>WARNING: </b>The usage of this class is – inherently – highly experimental. Be careful with amplitudes, as always with feedback it can become loud! Sudden blowups might result form the mathematical characteristics of the ODE systems or they might come from parameter changes on which ODEs can react extremely sensitive to, they can also stem from numerical accumulation effects. It is highly recommended to take precautionary measures, e.g. by limiting/distorting operators (tanh, clip, softclip, distort) with the <b>compose</b> option (See Fb1_ODE Ex.5) and/or external limiting and/or using MasterFX from the JITLibExtensions quark.<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1"><b>NOTE: </b>The convenience of direct definition of the ODE relation comes with the price of a large number of UGens involved. You might want to allow a higher number of UGens with the server option numWireBufs. For a nice workflow I'd recommended to take reduced blockSizes (e.g. 1, 2, 4, 8, 16) while experimenting as compile time is shorter, but once you have finished the design of a SynthDef it might pay going back to blocksize 32 or 64 for runtime efficiency, especially if many kr UGens are involved. <span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p3"><span class="s2"><b>See also: </b><a href="Fb1_ODE.html"><span class="s3">Fb1_ODE</span></a>, <a href="Fb1_ODEdef.html"><span class="s3">Fb1_ODEdef</span></a>, <a href="Fb1_ODEintdef.html"><span class="s3">Fb1_ODEintdef</span></a>, <a href="Fb1.html"><span class="s3">Fb1</span></a>, <a href="Fb1_MSD.html"><span class="s3">Fb1_MSD</span></a>, <a href="Fb1_SD.html"><span class="s3">Fb1_SD</span></a>, <a href="Fb1_Lorenz.html"><span class="s3">Fb1_Lorenz</span></a>, <a href="Fb1_Hopf.html"><span class="s3">Fb1_Hopf</span></a>, <a href="Fb1_HopfAFDC.html"><span class="s3">Fb1_HopfAFDC</span></a>, <a href="Fb1_VanDerPol.html"><span class="s3">Fb1_VanDerPol</span></a>, <a href="Fb1_Duffing.html"><span class="s3">Fb1_Duffing</span></a></span></p>
<p class="p2"><br></p>
<p class="p1"><b>References:</b></p>
<p class="p2"><br></p>
<p class="p1">[1]<span class="Apple-tab-span">	</span>Righetti, Ludovic; Buchli, Jonas; Ijspeert, Auke Jan (2009):<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span>"Adaptive Frequency Oscillators and Applications".<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span>The Open Cybernetics and Systemics Journal, 3, 64-69.</p>
<p class="p1"><span class="Apple-tab-span">	</span>https://www.researchgate.net/publication/41666931_Adaptive_Frequency_Oscillators_and_Applications_Open_Access</p>
<p class="p1"><span class="Apple-tab-span">	</span>Summary: https://biorob.epfl.ch/research/research-dynamical/page-36365-en-html/<span class="Apple-tab-span">	</span></p>
<p class="p1">[2]<span class="Apple-tab-span">	</span>Nachstedt, Timo; Tetzlaff, Christian; Manoonpong, Poramate (2017):<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span>"Fast Dynamical Coupling Enhances Frequency Adaptation of Oscillators for Robotic Locomotion Control".<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span>Frontiers in Neurorobotics. Published online 2017 Mar 21</p>
<p class="p1"><span class="Apple-tab-span">	</span>https://www.frontiersin.org/articles/10.3389/fnbot.2017.00014/full<span class="Apple-tab-span">	</span></p>
<p class="p1">[3]<span class="Apple-tab-span">	</span>Trefethen, Lloyd N.; Birkisson Ásgeir; Driscoll, Tobin A. (2017):<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span><i>Exploring ODEs</i>. SIAM - Society for Industrial and Applied Mathematics.</p>
<p class="p1"><span class="Apple-tab-span">	</span>Free download from: https://people.maths.ox.ac.uk/trefethen/Exploring.pdf<span class="Apple-tab-span">	</span></p>
<p class="p1">[4]<span class="Apple-tab-span">	</span>Pirrò, David (2017). <i>Composing Interactions</i>. Dissertation.<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span>Institute of Electronic Music and Acoustics, University of Music and Performing Arts Graz.</p>
<p class="p1"><span class="Apple-tab-span">	</span>Free download from: https://pirro.mur.at/media/pirro_david_composing_interactions_print.pdf<span class="Apple-tab-span">	</span></p>
<p class="p1">[5]<span class="Apple-tab-span">	</span>https://git.iem.at/davidpirro/henri</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p2"><br></p>
<p class="p5"><b>Creation / Class Methods</b></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>*new (f = 0, mu = 0, eta = 1, tMul = 1, t0 = 0, y0 = #[1, 1, 1],</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>intType = \sym2, compose, composeArIn, dt0, argList0, init_intType = \sym8,</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>withOutScale = true, withDiffChannels = false, withTimeChannel = false, blockSize,</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>graphOrderType = 1, leakDC = true, leakCoef = 0.995)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>Creates a new Fb1_HopfA ar object.</p>
<p class="p6"><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>f </b>- Defaults to 0.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>mu </b>- Defaults to 1.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>eta </b>- Defaults to 1.</p>
<p class="p10"><br></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>tMul </b>- Time multiplier, which determines velocity of proceeding in the dynamic system.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The default value 1 means that the step delta of time equals 1 / sample duration.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>For getting audible oscillations you might, depending on the ODE definition, have to pass</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>much higher values. Can also be a kr / ar UGen and might also be negative.<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>t0 </b>- Initial time. Expects Number.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 0.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>y0 </b>- Initial value of the ODE.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Expects array of size 3.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to #[1, 1, 1].</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>intType </b>- Integration type.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Expects one of the Symbols, for which procedures are stored with Fb1_ODEintdef.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The use of symplectic procedures (with prefix 'sym') is highly recommended.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to \sym2. For more accurate integration you can try symplectic procedures of</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>higher order like \sym4, \sym8 etc.<span class="Apple-tab-span">	</span>Families of integration procedures:<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Symplectic:<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>\sym2, \sym2_d, \sym4, \sym4_d, \sym6, \sym6_d, \sym8, \sym8_d,<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>\sym12, \sym12_d, \sym16, \sym16_d, \sym32, \sym32_d, \sym64, \sym64_d</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Euler:<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>\eu, \eu_d, \eum, \eum_d, \eui, \eui_d</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Prediction-Evaluation-Correction:<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>\pec, \pece, \pecec, \pecece</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Runge-Kutta:<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>\rk3, \rk3_d, \rk3h, \rk3h_d, \rk4, \rk4_d</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Adams-Bashforth:<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>\ab2, \ab3, \ab4, \ab5, \ab6</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Adams-Bashforth-Moulton:<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>\abm21, \abm22, \abm32, \abm33, \abm43, \abm44, \abm54, \abm55, \abm65, \abm66<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>compose </b>- Operator(s) / Function(s) to be applied to the system value on a per-sample base.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This of course blurs the numeric procedure but can be used for containing or in a creative way.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Can be an operator Symbol, a Function or an arbitrarily mixed SequenceableCollection thereof.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The Functions are in any case expected to take an array (the system state) as first argument.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If only one Function is given it must output an array of same (system) size.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Within a SequenceableCollection a Function must output a value of size 0.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Within a SequenceableCollection an operator Symbol is applied only to the corresponding component.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>A Function can optionally take a second argument which is for ar UGens passed via <b>composeArIn</b>.<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>composeArIn </b>- ar UGen or SequenceableCollection thereof or a SequenceableCollection that can contain both.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This is the way to use ar UGens within a Function passed to <b>compose</b>.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>UGens are passed to the Function's second argument.<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>dt0 </b>- First time delta in seconds to be used for the language-side calculation of<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>first values of a multi-step <b>intType</b> procedure.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This will mostly be irrelevant as (single-step) symplectic procedures are to be preferred.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>In case of a multi-step procedure a dt0 value will be derived from the default server's properties</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(sample duration * <b>tMul</b>).</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>argList0 </b>- Initial argList value(s) to be used for the language-side calculation of<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>first values of a multi-step <b>intType</b> procedure.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This will mostly be irrelevant as (single-step) symplectic procedures are to be preferred.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If no UGens are passed to argList, values will be assumed from passed argList Numbers.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>init_intType </b>- Integration type for language-side calculation of first values of a<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>multi-step <b>intType</b> procedure.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This will mostly be irrelevant as (single-step) symplectic procedures are to be preferred.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to \sym8.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>withOutScale </b>- Boolean. Determines if the Fb1_ODEdef's default scaling values for</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>integration and differential signals should be applied to the output.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to true.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>WARNING:</b> <b>withOutScale</b> does not implement a general safety net functionality,<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>withOutScale</b>'s default value true does by no means say that output is limited.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The default scaling values of predefined Fb1_ODEdefs are average assumptions and can,<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>under different circumstances, always lead to high out levels.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>withDiffChannels </b>- Boolean. Determines if channel(s) with differential value(s) should be returned.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This is only applicable with integration types with a sizeFactor == 2, which means that for every sample</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>the values of the differential are buffered. As by default this is not the case for all predefined<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>numeric procedures, there exist variants with appendix '_d', e.g. \sym2_d.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to false.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>withTimeChannel </b>- Boolean. Determines if accumulated time is output in an additional channel.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>WARNING:</b> with constant <b>tMul</b> it produces an ascending DC which is not affected by <b>leakDC</b><span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if this is set to true. Might especially be of interest if time is modulated.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to false.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>blockSize </b>- Integer, this should be the server blockSize.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If no Integer is passed, the current default server's blockSize is assumed (in contrast to Fb1).<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>So explicitely passing a blockSize should only be necessary in special cases,</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>e.g. when compiling before booting.<span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>However for a pleasant workflow for ar usage it's recommended to use<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a reduced server blockSize in order to reduce SynthDef compile time.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>graphOrderType </b>- 0, 1 or 2.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Determines if topological order of generated BufRd and BufWr instances</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>in the SynthDef graph is forced by additional UGens.<span class="Apple-converted-space"> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Type 0: forced graph order is turned off.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Type 1 (default): graph order is forced by summation and &lt;!.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Type 2: graph order is forced by &lt;! operators only.<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Default 1 is recommended, but with CPU-intense SynthDefs it might be worth trying it with the value 0.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This saves a lot of UGens though there might be exceptional cases with different results.<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Type 2 can shorten the SynthDef compilation time for certain graphs with a large number of UGens,</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>which can be lengthy with type 1.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>However, CPU usage doesn't directly correspond to the number of UGens.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>leakDC </b>- Boolean. Determines if a LeakDC is applied to the output (except time channel).</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to true.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>leakCoef </b>- Number, the <b>leakDC </b>coefficient. Defaults to 0.995.</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-converted-space"> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span></p>
<p class="p8"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>*ar (f = 0, mu = 1, eta = 1, tMul = 1, t0 = 0, y0 = #[1, 1, 1],</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>intType = \sym2, compose, composeArIn, dt0, argList0, init_intType = \sym8,</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>withOutScale = true, withDiffChannels = false, withTimeChannel = false, blockSize,</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>graphOrderType = 1, leakDC = true, leakCoef = 0.995)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>Equivalent to <b>*new</b>.</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>*kr (f = 0, mu = 1, eta = 1, tMul = 1, t0 = 0, y0 = #[1, 1, 1],</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>intType = \sym2, compose, composeArIn, dt0, argList0, init_intType = \sym8,</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>withOutScale = true, withDiffChannels = false, withTimeChannel = false, blockSize,</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>graphOrderType = 1, leakDC = true, leakCoef = 0.995)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>Creates a new Fb1_HopfA kr object.</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>f </b>- Defaults to 0.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>mu </b>- Defaults to 1.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>eta </b>- Defaults to 1.</p>
<p class="p10"><br></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>tMul </b>- Time multiplier, which determines velocity of proceeding in the dynamic system.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The default value 1 means that the step delta of time equals 1 / control duration.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>For getting audible oscillations you might, depending on the ODE definition, have to pass</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>much higher values. Can also be a kr UGen and might also be negative.<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>t0 </b>- Initial time. Expects Number.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 0.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>y0 </b>- Initial value of the ODE.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Expects array of size 3.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to #[1, 1, 1].</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>intType </b>- Integration type.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Expects one of the Symbols, for which procedures are stored with Fb1_ODEintdef.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The use of symplectic procedures (with prefix 'sym') is highly recommended.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to \sym4. For more accurate integration you can try symplectic procedures of</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>higher order like \sym6, \sym8 etc.<span class="Apple-tab-span">	</span>Families of integration procedures:<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Symplectic:<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>\sym2, \sym2_d, \sym4, \sym4_d, \sym6, \sym6_d, \sym8, \sym8_d,<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>\sym12, \sym12_d, \sym16, \sym16_d, \sym32, \sym32_d, \sym64, \sym64_d</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Euler:<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>\eu, \eu_d, \eum, \eum_d, \eui, \eui_d</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Prediction-Evaluation-Correction:<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>\pec, \pece, \pecec, \pecece</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Runge-Kutta:<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>\rk3, \rk3_d, \rk3h, \rk3h_d, \rk4, \rk4_d</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Adams-Bashforth:<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>\ab2, \ab3, \ab4, \ab5, \ab6</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Adams-Bashforth-Moulton:<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>\abm21, \abm22, \abm32, \abm33, \abm43, \abm44, \abm54, \abm55, \abm65, \abm66<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>compose </b>- Operator(s) / Function(s) to be applied to the system value on a per-control-block base.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This of course blurs the numeric procedure but can be used for containing or in a creative way.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Can be an operator Symbol, a Function or an arbitrarily mixed SequenceableCollection thereof.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The Functions are in any case expected to take an array (the system state) as first argument.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If only one Function is given it must output an array of same (system) size.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Within a SequenceableCollection a Function must output a value of size 0.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Within a SequenceableCollection an operator Symbol is applied only to the corresponding component.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>dt0 </b>- First time delta in seconds to be used for the language-side calculation of<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>first values of a multi-step <b>intType</b> procedure.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This will mostly be irrelevant as (single-step) symplectic procedures are to be preferred.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>In case of a multi-step procedure a dt0 value will be assumed from the default server's properties</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(control duration * <b>tMul</b>).</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>argList0 </b>- Initial argList value(s) to be used for the language-side calculation of<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>first values of a multi-step <b>intType</b> procedure.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This will mostly be irrelevant as (single-step) symplectic procedures are to be preferred.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If no UGens are passed to argList, values will be assumed from passed argList Numbers.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>init_intType </b>- Integration type for language-side calculation of first values of a<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>multi-step <b>intType</b> procedure.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This will mostly be irrelevant as (single-step) symplectic procedures are to be preferred.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to \sym8.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>withOutScale </b>- Boolean. Determines if the Fb1_ODEdef's default scaling values for</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>integration and differential signals should be applied to the output.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to true.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>WARNING:</b> <b>withOutScale</b> does not implement a general safety net functionality,<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>withOutScale</b>'s default value true does by no means say that output is limited.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The default scaling values of predefined Fb1_ODEdefs are average assumptions and can,<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>under different circumstances, always lead to high out levels.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>withDiffChannels </b>- Boolean. Determines if channel(s) with differential value(s) should be returned.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This is only applicable with integration types with a sizeFactor == 2, which means that for every sample</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>the values of the differential are buffered. As by default this is not the case for all predefined<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>numeric procedures, there exist variants with appendix '_d', e.g. \sym2_d.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to false.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>withTimeChannel </b>- Boolean. Determines if accumulated time is output in an additional channel.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>WARNING:</b> with constant <b>tMul</b> it produces an ascending DC which is not affected by <b>leakDC</b><span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if this is set to true. Might especially be of interest if time is modulated.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to false.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>graphOrderType </b>- 0, 1 or 2.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Determines if topological order of generated BufRd and BufWr instances</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>in the SynthDef graph is forced by additional UGens.<span class="Apple-converted-space"> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Type 0: forced graph order is turned off.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Type 1 (default): graph order is forced by summation and &lt;!.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Type 2: graph order is forced by &lt;! operators only.<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Default 1 is recommended, but with CPU-intense SynthDefs it might be worth trying it with the value 0.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This saves a lot of UGens though there might be exceptional cases with different results.<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Type 2 can shorten the SynthDef compilation time for certain graphs with a large number of UGens,</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>which can be lengthy with type 1.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>However, CPU usage doesn't directly correspond to the number of UGens.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>leakDC </b>- Boolean. Determines if a LeakDC is applied to the output (except time channel).</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to true.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>leakCoef </b>- Number, the <b>leakDC </b>coefficient. Defaults to 0.995.</p>
<p class="p8"><br></p>
<p class="p4"><br></p>
<p class="p11"><br></p>
<p class="p12"><b>Examples</b></p>
<p class="p4"><br></p>
<p class="p13">// reboot with reduced blockSize</p>
<p class="p4"><br></p>
<p class="p14">(</p>
<p class="p14">s = <span class="s5">Server</span>.local;</p>
<p class="p14"><span class="s5">Server</span>.default = s;</p>
<p class="p14">s.options.blockSize = 8;</p>
<p class="p14">s.reboot;</p>
<p class="p14">)</p>
<p class="p11"><br></p>
<p class="p13">// In the source code of Fb1_ODEdef.sc the corresponding Fb1_ODEdef looks like this:</p>
<p class="p13">// the Function brackets within the array are not absolutely necessary,<span class="Apple-converted-space"> </span></p>
<p class="p13">// but compile process is faster.</p>
<p class="p4"><br></p>
<p class="p13">// don't evaluate, already stored</p>
<p class="p4"><br></p>
<p class="p15"><span class="s5">Fb1_ODEdef</span><span class="s2">(</span><span class="s6">\HopfA</span><span class="s2">, { </span>|t, y, f = 0, mu = 1, eta = 1|</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="s7">var</span> u, v;</p>
<p class="p14"><span class="Apple-tab-span">	</span>u = y[0] * y[0] + (y[1] * y[1]);</p>
<p class="p14"><span class="Apple-tab-span">	</span>v = mu - u;</p>
<p class="p14"><span class="Apple-tab-span">	</span>[</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{ v * y[0] - (y[2] * y[1]) + f },</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{ v * y[1] + (y[2] * y[0]) },</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{ f.neg * y[1] * eta / sqrt(u) }</p>
<p class="p14"><span class="Apple-tab-span">	</span>]</p>
<p class="p13"><span class="s2">}, 0, [1, 1, 1], 0.3, 0.3);<span class="Apple-converted-space">  </span></span>// scaling as standard params lead to high level output</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// reasonable adaption with sine source</p>
<p class="p13">// mouse left turns source down, but oscillator still keeps frequency</p>
<p class="p13">// move mouse to right to turn source on again</p>
<p class="p4"><br></p>
<p class="p14">(</p>
<p class="p14">x = {</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="s7">var</span> ratio = <span class="s5">Demand</span>.ar(</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">Impulse</span>.ar(3), 0,</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">Dseq</span>([0, 2, 4, 5, 7, 9, 11, 12], <span class="s8">inf</span>)</p>
<p class="p14"><span class="Apple-tab-span">	</span>).midiratio;</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="s7">var</span> hold = (<span class="s5">MouseX</span>.kr(0, 1) &gt; 0.1).poll;</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="s7">var</span> src = <span class="s5">SinOsc</span>.ar(ratio * 200);</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="s7">var</span> sig = <span class="s5">Fb1_HopfA</span>.ar(src * hold.lag(0.5), 0.15, 2, 800);</p>
<p class="p14"><span class="Apple-tab-span">	</span>sig[0] ! 2 * 0.5</p>
<p class="p14">}.play</p>
<p class="p14">)</p>
<p class="p4"><br></p>
<p class="p14">x.release</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// with Saw the result is less exact, sometimes Hopf jumps to higher partials</p>
<p class="p4"><br></p>
<p class="p14">(</p>
<p class="p14">x = {</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="s7">var</span> ratio = <span class="s5">Demand</span>.ar(</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">Impulse</span>.ar(3), 0,</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">Dseq</span>([0, 2, 4, 5, 7, 9, 11, 12], <span class="s8">inf</span>)</p>
<p class="p14"><span class="Apple-tab-span">	</span>).midiratio;</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="s7">var</span> hold = (<span class="s5">MouseX</span>.kr(0, 1) &gt; 0.1).poll;</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="s7">var</span> src = <span class="s5">Saw</span>.ar(ratio * 200);</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="s7">var</span> sig = <span class="s5">Fb1_HopfA</span>.ar(src * hold.lag(0.5), 0.15, 2, 800);</p>
<p class="p14"><span class="Apple-tab-span">	</span>sig[0] ! 2 * 0.5</p>
<p class="p14">}.play</p>
<p class="p14">)</p>
<p class="p4"><br></p>
<p class="p14">x.release</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// an inexact adaption can be used though to generate interesting irregular variations</p>
<p class="p13">// listen for a while</p>
<p class="p4"><br></p>
<p class="p14">(</p>
<p class="p14">x = {</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="s7">var</span> ratio = <span class="s5">Demand</span>.ar(</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">Impulse</span>.ar(3), 0,</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">Dseq</span>([0, 2, 4, 5, 7, 9, 11, 12], <span class="s8">inf</span>)</p>
<p class="p14"><span class="Apple-tab-span">	</span>).midiratio;</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="s7">var</span> src = <span class="s5">Saw</span>.ar(ratio * 200, 0.3);</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="s7">var</span> sig = <span class="s5">Fb1_HopfA</span>.ar(src, 8, 10.5, 600);</p>
<p class="p14"><span class="Apple-tab-span">	</span>sig[0] ! 2 * 0.3</p>
<p class="p14">}.play</p>
<p class="p14">)</p>
<p class="p4"><br></p>
<p class="p14">x.release</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
</body>
</html>
